
# Validate JSON Web Token
_(c) AMWA 2021, CC Attribution-NoDerivatives 4.0 International (CC BY-ND 4.0)_

##  JSON Web Token

IS-10 using JSON Web Token (JWT) to respresent Access Token. JWT is an open idustry standard method for respresnting claims securely between services (RFC 7519). The claims in a JWT are encoded as a JSON object that is used as the payload of a JSON Web Signature (JWS) structure, enabling the claims to be digitally signed or integrity protected with a Message Authentication Code (MAC) and/or encrypted.

### Access Token

Access token is built of three parts, each are encoded separately using [Base64url Encoding](https://en.wikipedia.org/wiki/Base64#URL_applications "Base64"), and concatenated using periods to produce the JWT:

    base64urlEncoding(header) + '.' + base64urlEncoding(payload) + '.' + base64urlEncoding(signature)

Example of a JWT:	

	eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MTI3OTM1MTYsImlhdCI6MTYxMjc5MzMzNiwianRpIjoiMGYxNjc4MzMtOTlkMC00Mjg0LTk5ODAtM2UyYjJlODdmN2RiIiwiaXNzIjoiaHR0cHM6Ly9hdXRob3JpemF0aW9uLXNlcnZlci5jb20iLCJhdWQiOiJyZWdpc3RyeS5leGFtcGxlLm9yZyIsInN1YiI6ImJhZjQxNGU4LTM0YjctNDUwMy1hODdlLTNiNGViOTE2Y2UzYSIsInR5cCI6IkJlYXJlciIsImF6cCI6IjMwYmFmNjE3LTE3NDQtNGMyNC05YmFmLTIyMzUxYmVjMWE3MyIsInNlc3Npb25fc3RhdGUiOiJkMjNmMzE5ZS03OWYzLTRiY2UtOTk1Ni1iNTNlODMzMTUzYzMiLCJhY3IiOiIxIiwic2NvcGUiOiJyZWdpc3RyYXRpb24iLCJ4LW5tb3MtcmVnaXN0cmF0aW9uIjp7InJlYWQiOlsiKiJdLCJ3cml0ZSI6WyIqIl19LCJjbGllbnRJZCI6IjMwYmFmNjE3LTE3NDQtNGMyNC05YmFmLTIyMzUxYmVjMWE3MyJ9.edE5qHXBBGPMZ8S_RZYhW4sYo5uc1GT1gt8z3HkkJwqH_iHL6nD-84l6NOFYpXrE42WjElRyTU5JlPu7gpLMqZHmeqSSDpK-SfF5q25kNHmaiboA5DXQxDeb24ULFztRIjJGmBmWQ6Pg8a8tqVNmO0M75cQBV5pQyDZK1mekFapm3CmzXc628MbQ6YfbeBnNihkbij9NlMFFUffjug12iqiNCv2EEYPSGjsAk2UmVn0WkUQ742EKfqdp1HoBgyMsYJ-D0BjxgRIHWLuYyu7CmrFlOcN2PGbisp_RuGYy3xibgVa-MS8G0_VkQc9rvqkoDKL9kCLPOTyQBeuZsY6wUA

#### Header

It is used to identify the algorithm used to generate the signature.

	{
	  "alg": "RS512",
	  "typ": "JWT"
	}

#### Payload

Payload contains the token claims, such as when the token is becoming acative, when it is expire, who the token expected for, and some standard registered claims. IS-10 has also introduced some NMOS related private claims, which are related to the NMOS scopes.  Each NMOS private claim has the read and write permission.  Widecard '*' 

	{
	  "exp": 1612793516,
	  "iat": 1612793336,
	  "jti": "0f167833-99d0-4284-9980-3e2b2e87f7db",
	  "iss": "https://authorization-server.com",
	  "aud": "registry.example.org",
	  "sub": "baf414e8-34b7-4503-a87e-3b4eb916ce3a",
	  "typ": "Bearer",
	  "azp": "30baf617-1744-4c24-9baf-22351bec1a73",
	  "session_state": "d23f319e-79f3-4bce-9956-b53e833153c3",
	  "acr": "1",
	  "scope": "registration",
	  "x-nmos-registration": {
	    "read": [
	      "*"
	    ],
	    "write": [
	      "*"
	    ]
	  },
	  "clientId": "30baf617-1744-4c24-9baf-22351bec1a73"  
	}

#### Signature


<!--stackedit_data:
eyJoaXN0b3J5IjpbMTYxNzI2NzYxNCwtODk2NTc0NTczXX0=
-->